{"version":3,"sources":["../../src/events/Dispatcher.js"],"names":["Dispatcher","events","eventName","data","event","emit","callback","DispatcherEvent","registerCallback","callbacks","find","unregisterCallback","length"],"mappings":";;;;;;;;AAAA;;;;;;;;IAEqBA,U;AACnB,wBAAe;AAAA;;AACb,SAAKC,MAAL,GAAc,EAAd;AACD;;;;6BACSC,S,EAAWC,I,EAAM;AACzB,UAAMC,QAAQ,KAAKH,MAAL,CAAYC,SAAZ,CAAd;AACA,UAAIE,KAAJ,EAAW;AACTA,cAAMC,IAAN,CAAWF,IAAX;AACD;AACF;;;uBAEGD,S,EAAWI,Q,EAAU;AACvB,UAAIF,QAAQ,KAAKH,MAAL,CAAYC,SAAZ,CAAZ;AACA,UAAI,CAACE,KAAL,EAAY;AACVA,gBAAQ,IAAIG,yBAAJ,CAAoBL,SAApB,CAAR;AACA,aAAKD,MAAL,CAAYC,SAAZ,IAAyBE,KAAzB;AACD;AACDA,YAAMI,gBAAN,CAAuBF,QAAvB;AACD;;;wBAEIJ,S,EAAWI,Q,EAAU;AACxB,UAAMF,QAAQ,KAAKH,MAAL,CAAYC,SAAZ,CAAd;AACA,UAAIE,SAASA,MAAMK,SAAN,CAAgBC,IAAhB,CAAqBJ,QAArB,CAAb,EAA6C;AAC3CF,cAAMO,kBAAN,CAAyBL,QAAzB;AACA,YAAIF,MAAMK,SAAN,CAAgBG,MAAhB,KAA2B,CAA/B,EAAkC;AAChC,iBAAO,KAAKX,MAAL,CAAYC,SAAZ,CAAP;AACD;AACF;AACF;;;;;;kBA5BkBF,U","file":"Dispatcher.js","sourcesContent":["import DispatcherEvent from './DispatcherEvent';\n\nexport default class Dispatcher {\n  constructor () {\n    this.events = {};\n  }\n  dispatch (eventName, data) {\n    const event = this.events[eventName];\n    if (event) {\n      event.emit(data);\n    }\n  }\n\n  on (eventName, callback) {\n    let event = this.events[eventName];\n    if (!event) {\n      event = new DispatcherEvent(eventName);\n      this.events[eventName] = event;\n    }\n    event.registerCallback(callback);\n  }\n\n  off (eventName, callback) {\n    const event = this.events[eventName];\n    if (event && event.callbacks.find(callback)) {\n      event.unregisterCallback(callback);\n      if (event.callbacks.length === 0) {\n        delete this.events[eventName];\n      }\n    }\n  }\n}\n"]}